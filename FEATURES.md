# 📚 תכונות הבוט HilAnchor

## 🎯 מטרת הבוט
בוט אישי למעקב אחר התקדמות יומית בעבודה, עם גישה עדינה ותומכת לניהול משימות והתמודדות עם חסמים.

## ⏰ הודעות מתוזמנות (אוטומטיות)

### 11:00 - בוקר טוב
- שאלה: "היום את עם אלה?" (בחירת מצב: יום עבודה / יום עם הבת)
- מצב "יום עם הבת" מבטל את ההודעה ב-17:00

### 14:00 - צ'ק-אין אחה"צ
- "עבדת היום?"
- נשלחת רק אם יש צורך במעקב (need_followup)

### 17:00 - לקראת סוף היום
- "עבדת היום?"
- נשלחת רק אם:
  - לא במצב "יום עם הבת"
  - יש צורך במעקב (need_followup)

### 22:00 - סיכום יומי 📊
- סיכום אוטומטי של כל פעילות היום
- כולל:
  - מצב היום (עבודה/עם הבת)
  - סטטוס עבודה (כן/חלקי/לא)
  - כל האירועים עם חותמות זמן
  - הערות וטקסטים חופשיים
  - תכנית אחרונה
  - סטטוס השלמה

## 🎮 פקודות ידניות

### `/start`
- הודעת התחלה
- מסביר את הפקודות הזמינות
- מתחיל את תהליך בחירת מצב היום

### `/checkin`
- צ'ק-אין ידני בכל זמן
- שואל: "עבדת היום?"

### `/summary`
- מציג סיכום מיידי של היום
- ניתן לבקש בכל רגע

## 💬 טקסט חופשי - תמיד זמין!

**חדש!** את יכולה לשלוח טקסט חופשי **בכל רגע**, ללא צורך בפקודה או שאלה ספציפית:

- כל טקסט שאת שולחת נשמר כ-"הערה חופשית" (free_note)
- מתועד עם חותמת זמן
- מופיע בסיכום היומי
- שימושים:
  - "הרגשתי תקועה עכשיו אבל המשכתי"
  - "פגישה עם לקוח הייתה מצוינת"
  - "קשה לי להתרכז היום"
  - כל מחשבה, תצפית או רגש שרוצה לתעד

**איך זה עובד:**
1. אם הבוט מחכה לתשובה ספציפית (למשל "מה עשית?") - הטקסט עונה על השאלה
2. אם הבוט לא מחכה לתשובה - הטקסט נשמר כהערה חופשית

זה הופך את הבוט ל**יומן עבודה חי** שאפשר לתעד בו כל מה שקורה!

## 🔄 זרימת השיחה

### תגובה "כן ✅"
1. "מה עשית? (משפט)"
2. לאחר התשובה: "רוצה להמשיך עוד קצת או לסגור להיום?"
   - להמשיך → תזכורת ל-30 דקות
   - לסגור → "גאה בך. מחר נמשיך בעדינות"

### תגובה "קצת 🤏"
1. "על מה לשים 10 דקות עכשיו? משהו ממש קטן"
2. לאחר התשובה: תזכורת לאחר 5-30 דקות (תלוי בטקסט)

### תגובה "לא ❌"
שאלה: "מה הכי נכון עכשיו?"
- **זה גדול מדי** → "רוצה 2 דקות עכשיו? רק לפתוח קובץ ולכתוב 3 נקודות"
  - כן → "מה 3 הנקודות?"
  - לא → "אבדוק איתך בעדינות יותר מאוחר"

- **תקועה איך להתחיל** → "כתבי במשפט: מה הדבר הראשון הכי טכני (לפתוח IDE / להריץ / ליצור קובץ ניסוי)"

- **פחד מכשלון** → "כתבי במשפט: מה הכי מפחיד פה + מה תוצאה 'מספיק טובה' להיום"

## ⏱️ תזכורות (Nudges)

- **חכמות**: זמן התזכורת נקבע לפי מילות מפתח בתכנית
  - "2 דקות", "בקטנה" → 5 דקות
  - "10", "להתחיל" → 10 דקות
  - "30", "חצי שעה", "זורם" → 30 דקות

- **תגובה לתזכורת**: "התקדמת?"
  - כן → "רוצה לסגור או להמשיך?"
  - קצת → "עוד 10 דקות או לסגור?"
  - לא → "כתבי משהו ממש קטן (2 דקות)"

- **הגנה**: אחרי 2 כישלונות → "שחררי להיום 💙 מחר נעשה התחלה קטנה יותר"

## 📊 מה נשמר ב-state.json?

כל יום (תחת key של תאריך) כולל:

### מידע כללי
- `mode`: "work" או "kid"
- `worked`: "yes", "partial", או "no"
- `done`: האם היום הושלם
- `need_followup`: האם צריך מעקב
- `waiting_for`: על מה הבוט מחכה (yes_what_did, partial_plan, וכו')
- `fail_count`: מספר נסיונות כושלים
- `plan`: התכנית האחרונה
- `plan_ts`: חותמת זמן של התכנית

### אירועים (events)
כל אירוע כולל:
- `ts`: חותמת זמן
- `type`: סוג האירוע
- `value`: ערך (אופציונלי)
- `text`: טקסט חופשי (אופציונלי)

**סוגי אירועים:**
- `mode_set`: בחירת מצב יום
- `checkin_answer`: תשובה לשאלה "עבדת?"
- `did`: מה עשית (כשעבדת)
- `plan`: תכנית למשימה
- `first_action`: פעולה ראשונה (כשתקוע)
- `fear_reframe`: שינוי מסגור של פחד
- `bullets`: 3 נקודות למשימה גדולה
- `context`: הקשר (overwhelmed/stuck/fear)
- `big_action`: הסכמה למשימת 2 דקות
- `nudge_scheduled`: תזכורת נקבעה
- `closed`: סגירה ליום
- `continue`: המשך עבודה
- `free_note`: **הערה חופשית מהמשתמש** 💭

## 🎨 אנושיות עם LLM (אופציונלי)

- כברירת מחדל: **כבוי** (USE_LLM=false)
- כל ההודעות יכולות לעבור דרך Ollama להאנשה
- להפעלה: הגדר USE_LLM=true ב-.env
- ראה [LLM_SETUP.md](LLM_SETUP.md) להוראות מפורטות

## 📈 שימושים לסיכום היומי

1. **רטרוספקטיבה** - להבין מה עבד ומה לא
2. **זיהוי דפוסים** - מתי את תקועה? מה גורם להצלחה?
3. **מעקב התקדמות** - כמה ימים עבדת השבוע?
4. **שיפור עצמי** - איזה טכניקות עוזרות לך?
5. **יומן עבודה** - תיעוד מה קרה כל יום

## 💡 טיפים לשימוש

1. **היי כנה** - הבוט לא שופט, הוא כאן לעזור
2. **כתבי הכל** - כל מחשבה, הרגשה, או תובנה שחשובה לך
3. **השתמשי בטקסט חופשי** - אפשר לשלוח הערות בכל רגע
4. **בדקי סיכומים** - כל ערב ב-22:00 או עם /summary
5. **התאימי לעצמך** - השעות והטקסטים ניתנים לשינוי בקוד

## 🎨 התאמה אישית של הודעות

כל הטקסטים של הבוט מנוהלים בקובץ אחד: `hilanchor/messages.py`

בקובץ הזה תמצאי:
- כל ההודעות שהבוט שולח למשתמש
- כפתורים ותוויות
- הודעות מתוזמנות
- רכיבי סיכום

**איך לערוך הודעות:**
1. פתחי את הקובץ `hilanchor/messages.py`
2. חפשי את ההודעה שאת רוצה לשנות
3. ערכי את הטקסט בעברית - שמרי על אותו סגנון ומשמעות
4. שמרי את הקובץ והרץ מחדש את הבוט

**דוגמה:**
```python
# לפני:
WORKED_YES = "אלופה! ✨\nמה עשית? (ספרי לי במשפט אחד)"

# אחרי:
WORKED_YES = "כל הכבוד! 💪\nמה הספקת לעשות? (ספרי לי בקצרה)"
```

כל שינוי שתעשי בקובץ הזה יחול מיד על כל הבוט!
